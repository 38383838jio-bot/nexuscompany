<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body style="background-color: black; color: white;">
    <br>
    <div style="text-align: center; padding: 20px;">
        <h1>Make a Deposit</h1>
        <p>Choose a cryptocurrency and send to the address below. Use the QR code for easy scanning.</p>
        <div class="crypto-selection" style="display: flex; justify-content: center; gap: 20px; margin: 20px 0; flex-wrap: wrap;">
            <button class="crypto-btn" data-crypto="btc" style="background: #333; border: 2px solid #ff6b6b; border-radius: 10px; padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                <i class="fab fa-bitcoin" style="font-size: 30px; color: #f7931a;"></i>
                <span style="color: white;">Bitcoin</span>
            </button>
            <button class="crypto-btn" data-crypto="bnb" style="background: #333; border: 2px solid #ff6b6b; border-radius: 10px; padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-coins" style="font-size: 30px; color: #f0b90b;"></i>
                <span style="color: white;">BNB</span>
            </button>
            <button class="crypto-btn" data-crypto="tron" style="background: #333; border: 2px solid #ff6b6b; border-radius: 10px; padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-circle" style="font-size: 30px; color: #ff0011;"></i>
                <span style="color: white;">Tron</span>
            </button>
        </div>
        <div class="deposit-container" style="max-width: 600px; margin: auto; background: #333; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
            <h2>Wallet Address</h2>
            <div style="display: flex; align-items: center; justify-content: center; margin: 20px 0;">
                <input type="text" id="walletAddress" value="1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa" readonly style="width: 70%; padding: 10px; border-radius: 5px; border: none; background: #555; color: white; font-size: 16px;">
                <button onclick="copyAddress()" style="margin-left: 10px; padding: 10px 15px; background: #ff6b6b; color: white; border: none; border-radius: 5px; cursor: pointer;">Copy</button>
            </div>
            <h2>Scan QR Code</h2>
            <div style="text-align: center; margin: 20px 0;">
                <img id="qrCode" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa" alt="QR Code" style="border: 2px solid white; border-radius: 10px;">
            </div>
            <button id="confirmDeposit" style="width: 100%; padding: 15px; background: #28a745; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; margin-top: 20px;">Confirm Deposit</button>
        </div>
    </div>
    <script>
        // Check if user is logged in
        const user = JSON.parse(localStorage.getItem('user'));
        if (!user) {
            window.location.href = './login.html';
        }

        const cryptos = {
            btc: {
                name: 'Bitcoin',
                address: 'bc1qcujmdz0um0a56yfc4n7ffrtzazj38gvcd5vsj5',
                logo: 'https://cryptologos.cc/logos/bitcoin-btc-logo.png'
            },
            bnb: {
                name: 'BNB',
                address: '0x66D119D8A729eB917c65E16856FD1151FA43c512',
                logo: 'https://cryptologos.cc/logos/binance-coin-bnb-logo.png'
            },
            tron: {
                name: 'Tron',
                address: 'TU6TUa7pXsoU9qDf8rxgfcFLAsQUuSh67E',
                logo: 'https://cryptologos.cc/logos/tron-trx-logo.png'
            }
        };

        let selectedCrypto = 'btc'; // default

        function selectCrypto(crypto) {
            selectedCrypto = crypto;
            const data = cryptos[crypto];
            document.getElementById('walletAddress').value = data.address;
            document.getElementById('qrCode').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${data.address}`;

            // Highlight selected button
            document.querySelectorAll('.crypto-btn').forEach(btn => {
                btn.style.borderColor = '#ff6b6b';
            });
            document.querySelector(`[data-crypto="${crypto}"]`).style.borderColor = '#28a745';
        }

        // Initialize with default
        selectCrypto('btc');

        document.querySelectorAll('.crypto-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                selectCrypto(this.dataset.crypto);
            });
        });

        function copyAddress() {
            const address = document.getElementById('walletAddress');
            address.select();
            document.execCommand('copy');
            alert('Address copied to clipboard!');
        }

        document.getElementById('confirmDeposit').addEventListener('click', function() {
            alert(`Deposit confirmed for ${cryptos[selectedCrypto].name}! Please wait for processing.`);
            // Here you could add logic to check the blockchain or notify backend
        });
    </script>
</body>
</html>